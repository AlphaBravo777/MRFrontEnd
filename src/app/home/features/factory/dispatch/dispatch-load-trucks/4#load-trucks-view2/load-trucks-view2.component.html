<span *ngIf="meatriteStock && routeWithTrucks">
    <span *ngIf="routeWithTrucks.trucks.length > 1">
        <span *ngFor="let i of [].constructor(routeWithTrucks.trucks.length); let a = index">
            <button (click)='changeTruck(a)'>Truck {{a + 1}}</button>
        </span>
    </span>
    <h3>Current truck: {{routeWithTrucks.trucks[workingRouteTree.truckNumber].truckName}}</h3>
    <div *ngIf="showLoadTruckTemplate; then loadTruckTemplate; else compareStockTemplate">
        {{showLoadTruckTemplate}}
    </div>
    <ng-template #compareStockTemplate>
        <app-load-trucks-compare
            *ngIf='meatriteStock && routeWithTrucks'
            [stockOnHand]="meatriteStock"
            [stockRequired]='routeWithTrucks.trucks[workingRouteTree.truckNumber].totalProductOnTruck'>
        </app-load-trucks-compare>
    </ng-template>
    <ng-template #loadTruckTemplate>
        <h3>Current order: {{clientData.clientName}}</h3>
        <app-load-trucks-loading
            [meatriteStock]='meatriteStock'
            [stockRequired]='clientData.productOrders'
            [clientData]='clientData'
            [workingRouteTree]='workingRouteTree'>
        </app-load-trucks-loading>
    </ng-template>
    <p>Load truck from top to bottom</p>
    <div class="clientButtons" *ngFor="let client of routeWithTrucks.trucks[workingRouteTree.truckNumber].clients; let a = index">
        <button [ngClass]="client.loadingStatus ? 'green' : 'red'"
            (click)="loadClient(client, a)">
            {{client.deliveryRanking}}
            {{client.clientName}}
        </button>
    </div>
</span>
