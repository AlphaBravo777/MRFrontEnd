<form [formGroup]="totalStockForm" (ngSubmit)="onSubmit()">
    <table>
        <thead>
            <tr>
                <th>BatchGroup</th>
                <th>Product</th>
                <th>Product Weight</th>
                <!-- <ng-container *ngFor='let container of containerHash | keyvalue'> -->
                <ng-container *ngFor='let i of [].constructor(containersAmount); let a = index'>
                    <!-- <th>{{container.value.containerName}}</th> -->
                    <th>{{containerHash[a].containerName}}</th>
                </ng-container>
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor='let batch of totalStockForm.controls'>
                <tr>
                    <td style='color: red;'>{{batch.get('batchName').value}}</td>
                </tr>
                <ng-container *ngFor='let product of batch.get("productData").controls'>
                    <tr>
                        <td></td>
                        <td>{{product.get('productMRid').value}}</td>
                        <td>{{product.get('productWeight').value}} kg</td>
                        <ng-container *ngFor='let i of [].constructor(containersAmount); let a = index'>
                            <td class='stockValue'>
                                <stock-stock-value
                                [containerHashIndex]='containerHash[a]'
                                [product]='product'>
                                </stock-stock-value>
                            </td>
                        </ng-container>
                    </tr>
                </ng-container>
            </ng-container>
        </tbody>
    </table>
</form>